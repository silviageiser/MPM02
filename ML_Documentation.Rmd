---
title: "ML_Documentation"
author: "Geiser Silvia, Gruen Markus, Hefti Nico, Kuster Thomas"
date: "10/16/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```



## Machine Learning Algorithms - Documentation 

---
date: '10/17/2020'
author: Silvia Geiser
main changes: load raw data, data cleaning
---
load raw dataset
```{r}
rawdata <- read.csv('germany_housing_original_data.csv', header = T, row.names = 'X')
head(rawdata)
```

see data
```{r}
dim(rawdata)
head(data)
```


drop columns (Usable_area, Free_of_Relation, Energy_certificate, Energy_certificate_type, Energy_consumption) from raw data
```{r}
data <- subset(rawdata, select = -c(Usable_area, Free_of_Relation, Energy_certificate, Energy_certificate_type, Energy_consumption))
colnames(data)
```

see datatypes
```{r}
#install.packages('plyr')
#install.packages('dplyr')
library(plyr)
library(dplyr)

glimpse(data)
```

summary of data
```{r}
print(summary(data))
```


extract rows with Year_renovated > 2020 and replace with NA
```{r}
data %>%
filter(Year_renovated > 2020)

data <- data %>% mutate(Year_renovated = replace(Year_renovated, Year_renovated > 2020, NA))
```



extract rows with Year_built > 2020 and replace with NA
```{r}
data %>%
filter(Year_built > 2020)

data <- data %>% mutate(Year_built = replace(Year_built, Year_built > 2020, NA))
```

see data and summary
```{r}
print(summary(data))
```
extract unique values in Heating
```{r}
levels(data$Heating)
```

extract unique values in Energy_source

```{r}
levels(data)
```


STILL TO DO ---- NOT WORKING PROPERLY !!!!!! -------------
group and clean up Energy_source categories
```{r}

levels(data1$Energy_source)

data1 <- data %>% mutate(Energy_source = revalue(Energy_source, c(' Gas ' = 'natural gas', ' Ã–l ' = 'oil')))


, ' FernwÃ¤rme, Bioenergie ' = 'district heating', ' Gas, FernwÃ¤rme-Dampf ' = 'natural gas', ' Solar, Ã–l ' = 'renewable energies', ' Solar, Holz-Hackschnitzel ' = 'renewable energies', ' Erdgas schwer ' = 'natural gas', ' Solar, Holzpellets, Holz ' = 'renewable energies', ' ErdwÃ¤rme ' = 'renewable energies', ' Holzpellets, Strom ' = 'wood', ' Holz ' = 'wood', ' Solar, Erdgas schwer ' = 'renewable energies', ' Solar, Ã–l, Strom, KWK fossil ' = 'renewable energies', ' UmweltwÃ¤rme ' = 'renewable energies', ' KWK erneuerbar ' = 'renewable energies', ' Bioenergie ' = 'renewable energies', ' Solar ' = 'renewable energies', ' Gas, Strom ' = 'natural gas', ' NahwÃ¤rme ' = 'renewable energies', ' Gas, Holz ' = 'natural gas', ' FernwÃ¤rme-Dampf ' = 'district heating', ' Solar, Holzpellets, Ã–l ' = 'renewable energies', ' Erdgas schwer, Bioenergie ' = 'natural gas', ' WÃ¤rmelieferung ' = 'district heating', ' Ã–l, Bioenergie ' = 'oil', ' Gas, Ã–l, Strom ' = 'natural gas', ' Kohle, Holz ' = 'coal', ' Holz, Bioenergie ' = 'wood', ' Holzpellets, Holz ' = 'wood', ' Strom, UmweltwÃ¤rme ' = 'electricity', ' Strom ' = 'electricity', ' ErdwÃ¤rme, Holzpellets ' = 'renewable energies', ' FernwÃ¤rme ' = 'district heating', ' Holzpellets ' = 'wood', ' Gas, Ã–l ' = 'natural gas', ' Holz-Hackschnitzel ' = 'wood', ' Erdgas leicht ' = 'natural gas', ' Strom, Holz ' = 'electricity', ' Ã–l, Strom ' = 'oil', ' Solar, Gas ' = 'renewable energies', ' Holzpellets, Ã–l ' = 'wood', ' Solar, Ã–l, Holz ' = 'renewable energies', ' FlÃ¼ssiggas ' = 'natural gas', ' Solar, Holzpellets ' = 'renewable energies', ' Ã–l, Holz ' = 'oil', ' Erdgas schwer, Holz ' = 'natural gas', ' Gas, Holz-Hackschnitzel ' = 'natural gas', ' Holzpellets, Holz-Hackschnitzel ' = 'wood', ' Solar, Ã–l, Strom ' = 'renewable energies', ' Strom, Kohle ' = 'electricity', ' ErdwÃ¤rme, Solar ' = 'district heating', ' Solar, Ã–l, Bioenergie ' = 'renewable energies', ' Gas, Bioenergie ' = 'natural gas', ' Windenergie ' = 'renewable energies', ' Ã–l, Strom, Holz ' = 'oil', ' Solar, Strom, Bioenergie ' = 'renewable energies', ' Holzpellets, Gas, Ã–l ' = 'wood', ' Strom, Bioenergie ' = 'electricity', ' Erdgas leicht, Erdgas schwer ' = 'natural gas', ' Wasserenergie ' = 'renewable energies', ' Kohle ' = 'coal', ' Solar, Ã–l, Holz-Hackschnitzel ' = 'renewable energies', ' Gas, KWK fossil ' = 'natural gas', ' ErdwÃ¤rme, FernwÃ¤rme ' = 'renewable energies', ' Ã–l, Kohle ' = 'oil', ' FlÃ¼ssiggas, Holz ' = 'natural gas', ' Ã–l, Kohle, Holz ' = 'oil', ' FernwÃ¤rme, NahwÃ¤rme, KWK fossil ' = 'district heating', ' KWK fossil ' = 'district heating', ' ErdwÃ¤rme, Gas ' = 'renewable energies', ' Strom, Kohle, Holz ' = 'electricity', 'KWK regenerativ ' = 'district heating', ' ErdwÃ¤rme, UmweltwÃ¤rme ' = 'renewable energies', ' Solar, UmweltwÃ¤rme ' = 'renewable energies', ' Kohle/Koks ' = 'coal', ' Solar, Gas, Ã–l ' = 'renewable energies', ' Solar, Gas, Wasserenergie ' = 'renewable energies', ' Ã–l, UmweltwÃ¤rme ' = 'oil', ' Solar, Strom ' = 'renewable energies', ' Ã–l, FernwÃ¤rme ' = 'oil', ' FernwÃ¤rme, FlÃ¼ssiggas ' = ' district heating', ' Solar, Holz ' = 'renewable energies', ' Solar, Gas, Holz ' = 'renewable energies', ' Holzpellets, Kohle, Holz ' = 'wood', ' Ã–l, Strom, Kohle, Holz ' = 'oil', ' Strom, Holz-Hackschnitzel ' = 'electricity', ' ErdwÃ¤rme, Solar, UmweltwÃ¤rme ' = 'renewable energies', ' Solar, Gas, Ã–l, Holz ' = 'renewable energies', ' Gas, Strom, Kohle, Holz ' = 'natural gas', ' Gas, Ã–l, Kohle ' = 'natural gas', ' Gas, Kohle, Holz ' = 'natural gas', ' Gas, FernwÃ¤rme ' = 'natural gas', ' Solar, Gas, Strom ' = 'renewable energies', ' Solar, Gas, Strom, Holz ' = 'renewable energies', ' Holzpellets, Gas ' = 'wood', ' ErdwÃ¤rme, Strom ' = 'renewable energies', ' Strom, FlÃ¼ssiggas ' = 'electricity', ' Solar, Bioenergie ' = 'renewable energies', ' Gas, Ã–l, Kohle, Holz ' = 'natural gas', ' Gas, Strom, Holz ' = 'natural gas', ' Gas, Ã–l, Holz ' = 'natural gas', ' Gas, Wasserenergie ' = 'natural gas', ' ErdwÃ¤rme, Solar, Holzpellets, Holz ' = 'district heating', ' Solar, Holzpellets, Strom ', 'renewable energies', warn_missing = F)))
```

```{r}
head(data)
```


find data with < 10.00 Living_space and drop rows
```{r}
data %>%
arrange(data$Living_space)
which(data$Living_space < 10.0)
data <- data %>% slice(-c(344,7738,8177,9822,9956))
```


find rows with price < 12000 and drop
```{r}
data %>%
arrange(data$Price)
which(data$Price < 12000)
data[c(80, 84, 328, 460, 2971,3189, 3192, 3783, 4673, 4688, 5069, 5707, 5708, 5709, 5774, 6079, 6661, 6987, 7591,7656, 7838, 7859, 7997, 8617, 8738, 8868, 8874, 9001, 9019, 9100, 9378, 9681, 9755, 9777, 9798, 9936, 9974, 10352),]
data  <- data %>% slice(-c(80, 84, 328, 460, 2971,3189, 3192, 3783, 4673, 4688, 5069, 5707, 5708, 5709, 5774, 6079, 6661, 6987, 7591,7656, 7838, 7859, 7997, 8617, 8738, 8868, 8874, 9001, 9019, 9100, 9378, 9681, 9755, 9777, 9798, 9936, 9974, 10352))
```

```{r}
3+2
```



